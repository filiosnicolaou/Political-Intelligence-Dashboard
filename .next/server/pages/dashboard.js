"use strict";(()=>{var e={};e.id=26,e.ids=[26],e.modules={4531:(e,r,s)=>{s.r(r),s.d(r,{config:()=>S,default:()=>x,getServerSideProps:()=>j,getStaticPaths:()=>g,getStaticProps:()=>b,reportWebVitals:()=>_,routeModule:()=>y,unstable_getServerProps:()=>N,unstable_getServerSideProps:()=>w,unstable_getStaticParams:()=>f,unstable_getStaticPaths:()=>v,unstable_getStaticProps:()=>P});var t={};s.r(t),s.d(t,{default:()=>Dashboard,getServerSideProps:()=>getServerSideProps});var a=s(7093),i=s(5244),l=s(1323),d=s(1207),n=s(5913),o=s(997),c=s(8755),p=s(4802),m=s(9344),u=s.n(m),h=s(3717);function Dashboard({user:e,party:r}){return o.jsx(c.Z,{party:r,children:(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,o.jsxs)("section",{className:"md:col-span-2 bg-white p-4 rounded shadow",children:[o.jsx("h2",{className:"text-lg font-semibold mb-3",children:"Ανακοινώσεις"}),(0,o.jsxs)("div",{className:"space-y-3",children:[(0,o.jsxs)("article",{className:"p-3 border rounded",children:[o.jsx("h3",{className:"font-medium",children:"Συνεδρία Εκλογικής Οργάνωσης"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Σύντομη περιγραφή ανακοίνωσης..."})]}),(0,o.jsxs)("article",{className:"p-3 border rounded",children:[o.jsx("h3",{className:"font-medium",children:"Νέα πρωτοβουλία"}),o.jsx("p",{className:"text-sm text-gray-600",children:"Σύντομη περιγραφή..."})]})]})]}),(0,o.jsxs)("aside",{className:"bg-white p-4 rounded shadow",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[o.jsx("h3",{className:"font-semibold",children:"Συζητήσεις ανά θέμα"}),(0,o.jsxs)("div",{className:"text-sm text-gray-500",children:["Χρήστης: ",e?.phone]})]}),(0,o.jsxs)("ul",{className:"space-y-2 text-sm",children:[o.jsx("li",{className:"p-2 border rounded",children:"Οικονομία"}),o.jsx("li",{className:"p-2 border rounded",children:"Κοινωνικά"}),o.jsx("li",{className:"p-2 border rounded",children:"Πολιτισμός"})]}),o.jsx("h3",{className:"font-semibold mt-4 mb-2",children:"Περιφέρεια"}),o.jsx("select",{className:"w-full border rounded p-2",children:["Λευκωσία","Λεμεσός","Λάρνακα","Πάφος","Αμμόχωστος"].map(e=>o.jsx("option",{children:e},e))})]})]})})}let getServerSideProps=async e=>{let r=e.req.headers.cookie||"",s=(0,p.parse)(r),t=s.poli_token;if(!t)return{redirect:{destination:"/login",permanent:!1}};try{let e=process.env.JWT_SECRET||"dev_jwt_secret",r=u().verify(t,e),s=await h.Z.member.findUnique({where:{id:r.memberId},include:{party:!0}}),a=s?.party||null;return{props:{user:r,party:a}}}catch(e){return{redirect:{destination:"/login",permanent:!1}}}},x=(0,l.l)(t,"default"),b=(0,l.l)(t,"getStaticProps"),g=(0,l.l)(t,"getStaticPaths"),j=(0,l.l)(t,"getServerSideProps"),S=(0,l.l)(t,"config"),_=(0,l.l)(t,"reportWebVitals"),P=(0,l.l)(t,"unstable_getStaticProps"),v=(0,l.l)(t,"unstable_getStaticPaths"),f=(0,l.l)(t,"unstable_getStaticParams"),N=(0,l.l)(t,"unstable_getServerProps"),w=(0,l.l)(t,"unstable_getServerSideProps"),y=new a.PagesRouteModule({definition:{kind:i.x.PAGES,page:"/dashboard",pathname:"/dashboard",bundlePath:"",filename:""},components:{App:n.default,Document:d.default},userland:t})},3717:(e,r,s)=>{s.d(r,{Z:()=>i});let t=require("@prisma/client"),a=global.prisma||new t.PrismaClient,i=a},4802:e=>{e.exports=require("cookie")},9344:e=>{e.exports=require("jsonwebtoken")},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},6689:e=>{e.exports=require("react")},997:e=>{e.exports=require("react/jsx-runtime")},1017:e=>{e.exports=require("path")},7310:e=>{e.exports=require("url")}};var r=require("../webpack-runtime.js");r.C(e);var __webpack_exec__=e=>r(r.s=e),s=r.X(0,[859,656,664,33],()=>__webpack_exec__(4531));module.exports=s})();