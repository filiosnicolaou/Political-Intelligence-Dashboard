(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{3236:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return s(1650)}])},8755:function(e,t,s){"use strict";s.d(t,{Z:function(){return Layout}});var a=s(5893);s(7294);var n=s(1664),l=s.n(n);function Header(e){let{party:t}=e,s=(null==t?void 0:t.primaryColor)||"#0f172a",n=(null==t?void 0:t.logo)||null;return(0,a.jsx)("header",{className:"shadow-sm",style:{backgroundColor:"#fff"},children:(0,a.jsxs)("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-10 h-10 rounded flex items-center justify-center font-bold",style:{backgroundColor:s,color:"#fff"},children:n?(0,a.jsx)("img",{src:n,alt:null==t?void 0:t.name,className:"w-8 h-8 object-contain"}):"PC"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-semibold",children:"Political Intelligence Platform"}),(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"Εσωτερική πλατφόρμα"})]})]}),(0,a.jsxs)("nav",{className:"flex items-center space-x-3",children:[(0,a.jsx)(l(),{href:"/",className:"text-sm text-gray-700",children:"Αρχική"}),(0,a.jsx)(l(),{href:"/dashboard",className:"text-sm text-gray-700",children:"Πίνακας Μελών"}),(0,a.jsx)(l(),{href:"/admin",className:"text-sm text-gray-700",children:"Πίνακας Διαχειριστή"}),(0,a.jsx)(l(),{href:"/login",className:"text-sm",style:{color:s},children:"Σύνδεση"})]})]})})}function Layout(e){let{children:t,party:s}=e;return(0,a.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,a.jsx)(Header,{party:s}),(0,a.jsx)("main",{className:"flex-1 container mx-auto px-4 py-6",children:t}),(0,a.jsx)("footer",{className:"bg-white border-t py-4",children:(0,a.jsx)("div",{className:"container mx-auto text-center text-sm text-gray-500",children:"Political Intelligence Platform — Εσωτερική πλατφόρμα"})})]})}},1650:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return Login}});var a=s(5893),n=s(7294),l=s(8755);function Login(){let[e,t]=(0,n.useState)(""),[s,r]=(0,n.useState)(""),[i,c]=(0,n.useState)(!1),[o,d]=(0,n.useState)("");async function sendOtp(t){t.preventDefault(),d("");let s=await fetch("/api/auth/send-otp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:e})}),a=await s.json();s.ok?(c(!0),d("Κωδικός αποστάλθηκε. Εισάγετε τον παρακάτω. (demo)")):d((null==a?void 0:a.error)||"Σφάλμα")}async function verify(t){t.preventDefault();let a=await fetch("/api/auth/verify-otp",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({phone:e,otp:s})}),n=await a.json();a.ok?window.location.href="/":d((null==n?void 0:n.error)||"Σφάλμα επαλήθευσης")}return(0,a.jsx)(l.Z,{children:(0,a.jsxs)("div",{className:"max-w-md mx-auto bg-white p-6 rounded-lg shadow",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Σύνδεση μέσω SMS (OTP)"}),(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Συνδεθείτε με το κινητό σας τηλέφωνο. (demo)"}),i?(0,a.jsxs)("form",{onSubmit:verify,className:"space-y-3",children:[(0,a.jsx)("label",{className:"block text-sm",children:"Κωδικός OTP"}),(0,a.jsx)("input",{value:s,onChange:e=>r(e.target.value),placeholder:"123456",className:"w-full border rounded px-3 py-2"}),(0,a.jsx)("button",{className:"w-full bg-primary text-white py-2 rounded",children:"Επιβεβαίωση"})]}):(0,a.jsxs)("form",{onSubmit:sendOtp,className:"space-y-3",children:[(0,a.jsx)("label",{className:"block text-sm",children:"Τηλέφωνο"}),(0,a.jsx)("input",{value:e,onChange:e=>t(e.target.value),placeholder:"+3579XXXXXXXX",className:"w-full border rounded px-3 py-2"}),(0,a.jsx)("button",{className:"w-full bg-primary text-white py-2 rounded",children:"Αποστολή κωδικού"})]}),o&&(0,a.jsx)("div",{className:"mt-3 text-sm text-gray-600",children:o})]})})}}},function(e){e.O(0,[664,774,888,179],function(){return e(e.s=3236)}),_N_E=e.O()}]);